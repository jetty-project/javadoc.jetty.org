<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (23) -->
<title>Retainable (Jetty :: Project 12.1.0.beta3 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.eclipse.jetty.io, interface: Retainable">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">const pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="nav-content">
<div class="nav-menu-button"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button></div>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/Retainable.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../search.html">Search</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
</div>
<div class="sub-nav">
<div class="nav-content">
<ol class="sub-nav-list">
<li><a href="package-summary.html">org.eclipse.jetty.io</a></li>
<li><a href="Retainable.html" class="current-selection">Retainable</a></li>
</ol>
<div class="nav-list-search">
<input type="text" id="search-input" disabled placeholder="Search" aria-label="Search in documentation" autocomplete="off">
<input type="reset" id="reset-search" disabled value="Reset">
</div>
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="main-grid">
<nav role="navigation" class="toc" aria-label="Table of contents">
<div class="toc-header">Contents&nbsp;
<input type="text" class="filter-input" disabled placeholder="Filter" aria-label="Filter table of contents" autocomplete="off">
<input type="reset" class="reset-filter" disabled value="Reset">
</div>
<button class="hide-sidebar"><span>Hide sidebar&nbsp;</span>&#10094;</button><button class="show-sidebar">&#10095;<span>&nbsp;Show sidebar</span></button>
<ol class="toc-list">
<li><a href="#" tabindex="0">Description</a>
<ol class="toc-list">
<li><a href="#idiom" tabindex="0">Idiomatic usage</a></li>
</ol>
</li>
<li><a href="#nested-class-summary" tabindex="0">Nested Class Summary</a></li>
<li><a href="#field-summary" tabindex="0">Field Summary</a></li>
<li><a href="#method-summary" tabindex="0">Method Summary</a></li>
<li><a href="#field-detail" tabindex="0">Field Details</a>
<ol class="toc-list">
<li><a href="#NON_RETAINABLE" tabindex="0">NON_RETAINABLE</a></li>
</ol>
</li>
<li><a href="#method-detail" tabindex="0">Method Details</a>
<ol class="toc-list">
<li><a href="#canRetain()" tabindex="0">canRetain()</a></li>
<li><a href="#isRetained()" tabindex="0">isRetained()</a></li>
<li><a href="#retain()" tabindex="0">retain()</a></li>
<li><a href="#release()" tabindex="0">release()</a></li>
<li><a href="#getRetained()" tabindex="0">getRetained()</a></li>
<li><a href="#release(R)" tabindex="0">release(R)</a></li>
</ol>
</li>
</ol>
</nav>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h1 title="Interface Retainable" class="title">Interface Retainable</h1>
</div>
<section class="class-description" id="class-description">
<div class="horizontal-scroll">
<dl class="notes">
<dt>All Known Subinterfaces:</dt>
<dd><code><a href="Content.Chunk.html" title="interface in org.eclipse.jetty.io">Content.Chunk</a></code>, <code><a href="RetainableByteBuffer.html" title="interface in org.eclipse.jetty.io">RetainableByteBuffer</a></code>, <code><a href="RetainableByteBuffer.Mutable.html" title="interface in org.eclipse.jetty.io">RetainableByteBuffer.Mutable</a></code></dd>
</dl>
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="AbstractRetainableByteBuffer.html" title="class in org.eclipse.jetty.io">AbstractRetainableByteBuffer</a></code>, <code><a href="ArrayByteBufferPool.Tracking.TrackedBuffer.html" title="class in org.eclipse.jetty.io">ArrayByteBufferPool.Tracking.TrackedBuffer</a></code>, <code><a href="Content.Chunk.Empty.html" title="class in org.eclipse.jetty.io">Content.Chunk.Empty</a></code>, <code><a href="Retainable.ReferenceCounter.html" title="class in org.eclipse.jetty.io">Retainable.ReferenceCounter</a></code>, <code><a href="Retainable.Wrapper.html" title="class in org.eclipse.jetty.io">Retainable.Wrapper</a></code>, <code><a href="RetainableByteBuffer.Abstract.html" title="class in org.eclipse.jetty.io">RetainableByteBuffer.Abstract</a></code>, <code><a href="RetainableByteBuffer.DynamicCapacity.html" title="class in org.eclipse.jetty.io">RetainableByteBuffer.DynamicCapacity</a></code>, <code><a href="RetainableByteBuffer.EmptyRetainableByteBuffer.html" title="class in org.eclipse.jetty.io">RetainableByteBuffer.EmptyRetainableByteBuffer</a></code>, <code><a href="RetainableByteBuffer.FixedCapacity.html" title="class in org.eclipse.jetty.io">RetainableByteBuffer.FixedCapacity</a></code>, <code><a href="RetainableByteBuffer.NonRetainableByteBuffer.html" title="class in org.eclipse.jetty.io">RetainableByteBuffer.NonRetainableByteBuffer</a></code>, <code><a href="RetainableByteBuffer.Pooled.html" title="class in org.eclipse.jetty.io">RetainableByteBuffer.Pooled</a></code>, <code><a href="RetainableByteBuffer.Wrapper.html" title="class in org.eclipse.jetty.io">RetainableByteBuffer.Wrapper</a></code>, <code><a href="../http2/api/Stream.Data.html" title="class in org.eclipse.jetty.http2.api">Stream.Data</a></code>, <code><a href="../http/Trailers.html" title="class in org.eclipse.jetty.http">Trailers</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">Retainable</span></div>
<div class="block"><p>A reference counted resource, for example one that is borrowed from a pool,
 that may be retained an additional number of times, and released a correspondent
 number of times, over its lifecycle.</p>
 <p>The resource is typically implicitly retained when it is first created.
 It may be retained more times (thus incrementing its reference count) and released
 (thus decrementing its reference count), until the reference count goes to zero.</p>
 <h2><a id="idiom">Idiomatic usage</a></h2>
 <p>The general rules to use <code>Retainable</code> objects are the following:</p>
 <ol>
 <li>If the <code>Retainable</code> has been obtained by calling a method, and the
 caller code consumes it, then the caller code must call <a href="#release()"><code>release()</code></a>.</li>
 <li>If the <code>Retainable</code> has been obtained by <code>caller2</code> by calling a
 method, and <code>caller2</code> returns it without consuming it to <code>caller1</code>,
 then <code>caller2</code> must not call <a href="#release()"><code>release()</code></a>, since <code>caller1</code> will.</li>
 <li>If the <code>Retainable</code> has been obtained as a method argument, the
 receiver code must either:
 <ol type="A">
 <li>Consume the <code>Retainable</code> synchronously within the method, in which case
 <a href="#release()"><code>release()</code></a> must not be called.</li>
 <li>Pass the <code>Retainable</code> to some other method, in which case <a href="#release()"><code>release()</code></a>
 must not be called.</li>
 <li>Store away the <code>Retainable</code> for later or asynchronous processing, for
 example storing it in containers such as <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link"><code>Collection</code></a>s, or capturing
 it in a lambda that is passed to another thread, etc., in which case <a href="#retain()"><code>retain()</code></a>
 must be called and a mechanism to call <a href="#release()"><code>release()</code></a> later or asynchronously
 for this additional <a href="#retain()"><code>retain()</code></a> must be arranged.</li>
 </ol>
 </ol></div>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Interface</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="Retainable.ReferenceCounter.html" class="type-name-link" title="class in org.eclipse.jetty.io">Retainable.ReferenceCounter</a></code></div>
<div class="col-last even-row-color">
<div class="block">A reference count implementation for a <a href="Retainable.html" title="interface in org.eclipse.jetty.io"><code>Retainable</code></a> resource.</div>
</div>
<div class="col-first odd-row-color"><code>static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="Retainable.Wrapper.html" class="type-name-link" title="class in org.eclipse.jetty.io">Retainable.Wrapper</a></code></div>
<div class="col-last odd-row-color">
<div class="block">A wrapper of <a href="Retainable.html" title="interface in org.eclipse.jetty.io"><code>Retainable</code></a> instances.</div>
</div>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final <a href="Retainable.html" title="interface in org.eclipse.jetty.io">Retainable</a></code></div>
<div class="col-second even-row-color"><code><a href="#NON_RETAINABLE" class="member-name-link">NON_RETAINABLE</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab5" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab5', 3)" class="table-tab">Default Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#canRetain()" class="member-name-link">canRetain</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Returns whether this resource is referenced counted by calls to <a href="#retain()"><code>retain()</code></a>
 and <a href="#release()"><code>release()</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#getRetained()" class="member-name-link">getRetained</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Get the retained count.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#isRetained()" class="member-name-link">isRetained</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Returns whether <a href="#retain()"><code>retain()</code></a> has been called at least one more time than <a href="#release()"><code>release()</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#release()" class="member-name-link">release</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Releases this resource, potentially decrementing a reference count (if any).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1"><code>static &lt;R extends <a href="Retainable.html" title="interface in org.eclipse.jetty.io">Retainable</a>&gt;<br>R</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1"><code><a href="#release(R)" class="member-name-link">release</a><wbr>(R&nbsp;retainable)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1">
<div class="block">Convenience method that replaces code like:</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#retain()" class="member-name-link">retain</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Retains this resource, potentially incrementing a reference count if there are resources that will be released.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="NON_RETAINABLE">
<h3>NON_RETAINABLE</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="Retainable.html" title="interface in org.eclipse.jetty.io">Retainable</a></span>&nbsp;<span class="element-name">NON_RETAINABLE</span></div>
</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="canRetain()">
<h3>canRetain</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">canRetain</span>()</div>
<div class="block"><p>Returns whether this resource is referenced counted by calls to <a href="#retain()"><code>retain()</code></a>
 and <a href="#release()"><code>release()</code></a>.</p>
 <p>Implementations may decide that special resources are not not referenced counted (for example,
 <code>static</code> constants) so calling <a href="#retain()"><code>retain()</code></a> is a no-operation, and
 calling <a href="#release()"><code>release()</code></a> on those special resources is a no-operation that always returns true.</p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if calls to <a href="#retain()"><code>retain()</code></a> are reference counted.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="isRetained()">
<h3>isRetained</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isRetained</span>()</div>
<div class="block"><p>Returns whether <a href="#retain()"><code>retain()</code></a> has been called at least one more time than <a href="#release()"><code>release()</code></a>.</p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>whether this buffer is retained</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="retain()">
<h3>retain</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">retain</span>()</div>
<div class="block"><p>Retains this resource, potentially incrementing a reference count if there are resources that will be released.</p></div>
</div>
</section>
</li>
<li>
<section class="detail" id="release()">
<h3>release</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">release</span>()</div>
<div class="block"><p>Releases this resource, potentially decrementing a reference count (if any).</p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>true</code> when the reference count goes to zero or if there was no reference count,
         <code>false</code> otherwise.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getRetained()">
<h3>getRetained</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getRetained</span>()</div>
<div class="block"><p>Get the retained count. This value is volatile and should only be used for informational/debugging purposes.</p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the retained count</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="release(R)">
<h3 id="release(org.eclipse.jetty.io.Retainable)">release</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="type-parameters">&lt;R extends <a href="Retainable.html" title="interface in org.eclipse.jetty.io">Retainable</a>&gt;</span>&nbsp;<span class="return-type">R</span>&nbsp;<span class="element-name">release</span><wbr><span class="parameters">(R&nbsp;retainable)</span></div>
<div class="block">Convenience method that replaces code like:
 <pre><code>
   if (buffer != null)
   {
       buffer.release();
       buffer = null;
   }
 </code>
 </pre>
 with:
 <pre><code>
   buffer = Retainable.release(buffer);
 </code>
 </pre></div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>R</code> - The type of the retainable</dd>
<dt>Parameters:</dt>
<dd><code>retainable</code> - The retainable to release, if not <code>null</code>.</dd>
<dt>Returns:</dt>
<dd>always returns <code>null</code></dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 1995&#x2013;2025 <a href="https://webtide.com">Webtide</a>. All rights reserved.</small></p>
</footer>
</main>
</div>
</body>
</html>
